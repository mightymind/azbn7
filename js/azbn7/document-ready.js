"use strict";!function(t){function e(){var t=this;return t.screen={w:0,h:0,type:"xs",orientation:"portrait"},t.__resizefunctions={xs:{default:[],portrait:[],landscape:[]},sm:{default:[],portrait:[],landscape:[]},md:{default:[],portrait:[],landscape:[]},lg:{default:[],portrait:[],landscape:[]}},t.isXS=function(){return t.screen.w<768},t.isSM=function(){return t.screen.w<992&&t.screen.w>767},t.isMD=function(){return t.screen.w<1200&&t.screen.w>991},t.isLG=function(){return t.screen.w>1199},t.isMax=function(e){return!(t.screen.w>e)},t.isMin=function(e){return!(t.screen.w<e)},t.screenIs=function(){var e="noname";return t.isXS()?e="xs":t.isSM()?e="sm":t.isMD()?e="md":t.isLG()&&(e="lg"),e},t.isPortrait=function(){return t.screen.h>t.screen.w},t.isLandscape=function(){return t.screen.w>t.screen.h},t.orientationIs=function(){var e="noname";return t.isPortrait()?e="portrait":t.isLandscape()&&(e="landscape"),e},t.is=function(e){return e==t.screenIs()||e==t.orientationIs()},t.onResize=function(e,n){if(e.type){var a=t.__resizefunctions[e.type];e.orientation?a[e.orientation].push(n):a.default.push(n)}},t.resizeCall=function(e){if(e.type){if(t.__resizefunctions[e.type].default)for(var n=0;n<t.__resizefunctions[e.type].default.length;n++){var a=t.__resizefunctions[e.type].default[n];a(e)}if(t.__resizefunctions[e.type][e.orientation])for(var n=0;n<t.__resizefunctions[e.type][e.orientation].length;n++){var a=t.__resizefunctions[e.type][e.orientation][n];a(e)}}},t.setScreen=function(){var e=window,n=document,a=n.documentElement,r=n.getElementsByTagName("body")[0],i=e.innerWidth||a.clientWidth||r.clientWidth,o=e.innerHeight||a.clientHeight||r.clientHeight;return t.screen.w=i,t.screen.h=o,t.screen.type=t.screenIs(),t.screen.orientation=t.orientationIs(),t.resizeCall(t.screen),console.log(t.screen),t.screen},t}t.noConflict(),window.onerror=function(t,e,n,a,r){console.log("Error FECSS: "+e+":"+n+":"+a+": "+JSON.stringify(t)+"\n"+JSON.stringify(r))};var n=new e;n.setScreen(),t(window).on("resize",function(){n.setScreen()}),t(window).on("load",function(){t.Azbn7.body.find(".azbn7-preloader").data("is_loaded",!0)}),t(function(){!function(){var e="noname-browser",n=navigator.userAgent.toLowerCase();n.indexOf("msie")!=-1&&(e="msie"),n.indexOf("trident")!=-1&&(e="msie"),n.indexOf("konqueror")!=-1&&(e="konqueror"),n.indexOf("firefox")!=-1&&(e="firefox"),n.indexOf("safari")!=-1&&(e="safari"),n.indexOf("chrome")!=-1&&(e="chrome"),n.indexOf("chromium")!=-1&&(e="chromium"),n.indexOf("opera")!=-1&&(e="opera"),n.indexOf("yabrowser")!=-1&&(e="yabrowser"),t("html").eq(0).addClass(e)}(),t(document.body).on("azbn7.init",null,{},function(e){t(document.body).attr("data-created_at",(new Date).getTime())}),t(document.body).on("changeClass",null,{},function(t,e){}),!function(){t.Azbn7&&(t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/api.mdl.js",function(){t.Azbn7.mdl("API").setConfig(JSON.parse(t.Azbn7.body.attr("data-azbn7__mdl__api")||"{}"))}),t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/codecache.mdl.js",function(){t.Azbn7.mdl("CodeCache").doUpdate(1e4)}),t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/domtree.mdl.js",function(){t.Azbn7.mdl("DOMTree").startSpy(t.Azbn7.body,{attributes:!0,childList:!0,characterData:!0},function(t){console.log(t)})}),t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/cart.mdl.js",function(){t.Azbn7.body.find(".azbn7-cart").trigger("azbn7.mdl.cart.calculation")}),t.Azbn7.mdl("fnc").include("/js/azbn7/mdl/metric.mdl.js",function(){t.Azbn7.mdl("Metric").target("azbn7.page.view",{path:window.location.href})}))}(),!function(){t.Azbn7.body.on("azbn7.mdl.cart.calculation",".azbn7-cart",{},function(e,n,a){e.preventDefault();var r=t(this);t.Azbn7.mdl("Cart").calculation();var i="";n&&(i=i+'[data-cart-id="'+n+'"]'),a&&(i=i+'[data-cart-variant="'+a+'"]'),r.find(".items .item"+i).each(function(e){var n=t(this),a=n.attr("data-cart-id"),r=n.attr("data-cart-variant");if(t.Azbn7.mdl("Cart").data.cart[a]&&t.Azbn7.mdl("Cart").data.cart[a][r]){var i=t.Azbn7.mdl("Cart").data.cart[a][r];n.find(".cart-qty.item-qty").html(parseFloat(i.qty))}else n.find(".cart-qty.item-qty").html(0)}),r.find(".cart-calculation-to_pay").html(t.Azbn7.mdl("Cart").data.calculation.to_pay)}),t.Azbn7.body.on("click.azbn7.mdl.cart.add",".cart-btn.item-add",{},function(e){e.preventDefault();var n=t(this),a=n.closest(".item"),r=a.attr("data-cart-id"),i=a.attr("data-cart-variant");t.Azbn7.mdl("Cart").add(r,i,n.attr("data-cart-qty"),a.attr("data-cart-price"),a.attr("data-cart-discount")),a.closest(".azbn7-cart").trigger("azbn7.mdl.cart.calculation",[r,i])}),t.Azbn7.body.on("click.azbn7.mdl.cart.remove",".cart-btn.item-remove",{},function(e){e.preventDefault();var n=t(this),a=n.closest(".item"),r=a.attr("data-cart-id"),i=a.attr("data-cart-variant");t.Azbn7.mdl("Cart").remove(r,i,n.attr("data-cart-qty"),a.attr("data-cart-price"),a.attr("data-cart-discount")),a.closest(".azbn7-cart").trigger("azbn7.mdl.cart.calculation",[r,i])})}(),!function(){var e=t.Azbn7.body.find(".azbn7-preloader");if(e.length){var n=!1,a=0;t.Azbn7.body.on("azbn7.preloader.check",null,{},function(a){a.preventDefault(),e.data("is_loaded")&&n&&t.Azbn7.body.removeClass("_preloading")}),t.Azbn7.body.on("azbn7.preloader.loaded",null,{},function(n){n.preventDefault(),e.data("is_loaded",!0),t.Azbn7.body.trigger("azbn7.preloader.check")}),t.Azbn7.body.on("click.azbn7.preloader.cancel-btn",".azbn7-preloader .azbn7-preloader__cancel-btn",{},function(a){a.preventDefault(),e.data("is_loaded",!0),n=!0,t.Azbn7.body.trigger("azbn7.preloader.check")});var r=setInterval(function(){var i=Math.random();i>.5&&a<100?(a++,e.find(".azbn7-preloader__cancel-btn").text(a),e.data("is_loaded")&&(a+=9)):a>99&&(clearInterval(r),n=!0,t.Azbn7.body.trigger("azbn7.preloader.check"))},40)}else t.Azbn7.body.removeClass("_preloading")}(),t(document.body).on("submit.site","form",{},function(e){var n=t(this),a=n.attr("data-input-status")||"";"ok"==a||"1"==a||e.preventDefault()}),t(document.body).on("site.form.required.check","form",{},function(e){e.preventDefault();var n=t(this),a=0;n.find(".input-block[data-required]").each(function(e){var n=t(this),r=n.attr("data-input-status")||"";"ok"!=r&&"1"!=r||(a+=1)}),a==n.find(".input-block[data-required]").length?(n.find(".submit-block").attr("data-input-status","ok"),n.attr("data-input-status","ok")):(n.find(".submit-block").attr("data-input-status",""),n.attr("data-input-status",""))}),t(document.body).on("keyup.site blur.site focus.site",'.input-block[data-required="text"] input:not([type="search"]), .input-block[data-required="text"] textarea, .input-block[data-required="password"] input',{},function(e){e.preventDefault();var n=t(this),a=t(this).val(),r=n.closest(".input-block").attr("data-required")||"";""==a||"text"!=r&&"password"!=r?n.closest(".input-block").attr("data-input-status",""):n.closest(".input-block").attr("data-input-status","ok"),n.closest("form").trigger("site.form.required.check")}),t(document.body).on("keyup.site blur.site focus.site",'.input-block[data-required="email"] input',{},function(e){e.preventDefault();var n=t(this),a=t(this).val(),r=n.closest(".input-block").attr("data-required")||"",i=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;""!=a&&"email"==r&&i.test(a)?n.closest(".input-block").attr("data-input-status","ok"):n.closest(".input-block").attr("data-input-status",""),n.closest("form").trigger("site.form.required.check")}),t(document.body).on("keyup.site blur.site focus.site",'.input-block[data-required="check-pass"] input',{},function(e){e.preventDefault();var n=t(this),a=t(this).val(),r=t('.input-block input[name="pass"]').val();""!=a&&""!=r&&"check-pass"==n.closest(".input-block").attr("data-required")&&r==a?n.closest(".input-block").attr("data-input-status","ok"):n.closest(".input-block").attr("data-input-status",""),n.closest("form").trigger("site.form.required.check")}),t(document.body).on("keyup.site blur.site focus.site",'.input-block input[type="search"]',{},function(e){e.preventDefault();var n=t(this),a=t(this).val();a.length>2&&"search"==n.closest(".input-block").attr("data-required")?(n.closest(".input-block").attr("data-input-status","ok"),n.closest(".input-block").next(".submit-block").attr("data-input-status","ok")):(n.closest(".input-block").attr("data-input-status",""),n.closest(".input-block").next(".submit-block").attr("data-input-status","")),n.closest("form").trigger("site.form.required.check")}),t(document.body).on("change.site blur.site",".input-block select",{},function(e){e.preventDefault();var n=t(this),a=t(this).find("option:selected").eq(0).attr("value")||"";""!=a&&"select"==n.closest(".input-block").attr("data-required")?n.closest(".input-block").attr("data-input-status","ok"):n.closest(".input-block").attr("data-input-status",""),n.closest("form").trigger("site.form.required.check")}),t(function(){t("form").trigger("site.form.required.check"),t(".input-block input, .input-block textarea, .input-block select").trigger("blur.site")}),t(window).on("resize",function(t){}).trigger("resize"),t(window).on("scroll",function(t){}).trigger("scroll"),window.onbeforeunload=function(e){t("body").trigger("azbn7.window.unload",[e])},t(document.body).trigger("azbn7.init")})}(jQuery);