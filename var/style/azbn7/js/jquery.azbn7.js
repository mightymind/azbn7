"use strict";jQuery&&!function(n){var e=n(document.body),t={},r=function(t){var r=this;return r.name="Azbn7 jQuery Framework",r.body=e,r.__mdl={},r.__argv={},r.__param={},"object"!=typeof t&&(t=new Object),r.config=n.extend({},{is_dev:!0,prefix:"azbn7",path:{root:"",js:"",css:"",img:"",fonts:""}},t),r.randstr=function(){return Math.random().toString(36).split(".")[1]},r.now=function(){return(new Date).getTime()},r.now_sec=function(){return Math.floor(r.now()/1e3)},r.ls={set:function(n,e){localStorage.setItem(r.config.prefix+"."+n,e)},get:function(n){var e=localStorage.getItem(r.config.prefix+"."+n);return"undefined"!=typeof e&&null!=e?e:null},remove:function(n){localStorage.removeItem(r.config.prefix+"."+n)},clear:function(){localStorage.clear()},obj2s:function(n,e){this.set(n,JSON.stringify(e))},s2obj:function(n){var e=this.get(n);return"undefined"!=typeof e&&null!=e?JSON.parse(e):null}},r.ss={set:function(n,e){sessionStorage.setItem(r.config.prefix+"."+n,e)},get:function(n){var e=sessionStorage.getItem(r.config.prefix+"."+n);return"undefined"!=typeof e&&null!=e?e:null},remove:function(n){sessionStorage.removeItem(r.config.prefix+"."+n)},clear:function(){sessionStorage.clear()},obj2s:function(n,e){this.set(n,JSON.stringify(e))},s2obj:function(n){var e=this.get(n);return"undefined"!=typeof e&&null!=e?JSON.parse(e):null}},r.len=function(n){return this.is_def(n)&&!this.is_null(n)?n.length:0},r.echo=function(n,e){e=e||r.name,console.log(e+": "+n)},r.warn=function(n,e){e=e||r.name,console.warn(e+": "+n)},r.is_def=function(n){return void 0!=n&&"undefined"!=typeof n},r.is_null=function(n){return null==n},r.is_func=function(n){var e={};return n&&"[object Function]"===e.toString.call(n)},r.sleep=function(n){n=n||1;for(var e=this.now();this.now()<e+n;);},r.needReload=function(n){n&&window.location.reload()},r.parseArgv=function(n,e){for(var t=0;t<n.length;t++){var i=n[t].split(e||"=");r.__argv[i[0]]=i[1]}},r.getArgv=function(n){return r.__argv[n]},r.load=function(n,e){return r.__mdl[n]=e,r},r.unload=function(n){return r.__mdl[n]=null,delete r.__mdl[n],r.is_def(r.__mdl[n])},r.mdl=function(n){return r.__mdl[n]},r.load("fnc",{byTag:function(n){return document.getElementsByTagName(n)},byId:function(n){return document.getElementById(n)},include:function(n,e){var t;t=document.createElement("script"),e&&(t.onload=e),t.language="javascript",t.type="text/javascript",t.setAttribute("class","azbn7__mdl__fnc__include"),n.indexOf("http://")<0&&n.indexOf("https://")<0&&0!=n.indexOf("//")&&(n=r.config.path.root+n),t.src=n,document.documentElement.appendChild(t)},script2head:function(n,e){var t=document.getElementsByTagName("head")[0];if(t){var r=document.createElement("script");e&&(r.onload=e),r.language="javascript",r.type="text/javascript",r.setAttribute("class","azbn7__mdl__fnc__script2head"),r.src=n,t.appendChild(r)}else;},nl2br:function(n){return n.replace(/([^>])\n/g,"$1<br/>")},tpl:function(n,e){var t=n;for(var r in e)t=t.replace(r,e[r]);return t},stripTags:function(n){return n.replace(/<\/?[^>]+>/gi,"")},obj2param:function(n){var e="";for(var t in n)e=e+"&"+t+"="+n[t];return e}}),r.load("Screen",new function(){var n=this;return n.screen={w:0,h:0,type:"xs",orientation:"portrait"},n.__resizefunctions={xs:{default:[],portrait:[],landscape:[]},sm:{default:[],portrait:[],landscape:[]},md:{default:[],portrait:[],landscape:[]},dl:{default:[],portrait:[],landscape:[]},lg:{default:[],portrait:[],landscape:[]}},n.isXS=function(){return n.screen.w<768},n.isSM=function(){return n.screen.w<992&&n.screen.w>767},n.isMD=function(){return n.screen.w<1200&&n.screen.w>991},n.isDL=function(){return n.screen.w<1441&&n.screen.w>1199},n.isLG=function(){return n.screen.w>1440},n.isMax=function(e){return!(n.screen.w>e)},n.isMin=function(e){return!(n.screen.w<e)},n.screenIs=function(){var e="noname";return n.isXS()?e="xs":n.isSM()?e="sm":n.isMD()?e="md":n.isDL()?e="dl":n.isLG()&&(e="lg"),e},n.isPortrait=function(){return n.screen.h>n.screen.w},n.isLandscape=function(){return n.screen.w>n.screen.h},n.orientationIs=function(){var e="noname";return n.isPortrait()?e="portrait":n.isLandscape()&&(e="landscape"),e},n.is=function(e){return e==n.screenIs()||e==n.orientationIs()},n.onResize=function(e,t){if(e.type){var r=n.__resizefunctions[e.type];e.orientation?r[e.orientation].push(t):r.default.push(t)}},n.resizeCall=function(e){if(e.type){if(n.__resizefunctions[e.type].default)for(var t=0;t<n.__resizefunctions[e.type].default.length;t++){var r=n.__resizefunctions[e.type].default[t];r(e)}if(n.__resizefunctions[e.type][e.orientation])for(var t=0;t<n.__resizefunctions[e.type][e.orientation].length;t++){var r=n.__resizefunctions[e.type][e.orientation][t];r(e)}}},n.setScreen=function(){var e=window,t=document,r=t.documentElement,i=t.getElementsByTagName("body")[0],o=e.innerWidth||r.clientWidth||i.clientWidth,s=e.innerHeight||r.clientHeight||i.clientHeight;return n.screen.w=o,n.screen.h=s,n.screen.type=n.screenIs(),n.screen.orientation=n.orientationIs(),n.resizeCall(n.screen),console.log(n.screen),n.screen},n}),n(window).on("resize",function(){r.mdl("Screen").setScreen()}),r.load("API",new function(){var e=this;return e.name="api",e.uid="azbn7__mdl__api",e.config={url:"/api/v1/",access_as:"user",key:"public",request_method:"POST",response_dataType:"json",method:"version"},e.setConfig=function(t){e.config=n.extend({},e.config,t)},e.on={beforeSend:function(n,e){},error:function(n,e,t){console.warn(e)},dataFilter:function(n,e){return n},success:function(n,e,t){console.log(n)},complete:function(n,e){}},e.r=function(t,i,o,s){o=o||e.config.request_method,s=s||e.config.response_dataType,t.key=e.config.key,t.access_as=e.config.access_as,t.method=t.method||e.config.method,i||(i=r.on.success),n.ajax({url:e.config.url,type:o,dataType:s,data:t,success:i,error:e.on.error})},e}),r.mdl("API").setConfig(JSON.parse(r.body.attr("data-azbn7__mdl__api")||"{}")),r},i={init:function(e){var r=n.extend({},t,e);console.log(r)},widget:function(t){var r=n(this),i=n.Azbn7.randstr(),o=n.Azbn7.config.prefix+"-widget-"+i;r.addClass(o),e.on(n.Azbn7.config.prefix+".widget.getData","."+o,{},function(e,t,r){e.preventDefault(),n.Azbn7.mdl("API").r(t,r)})}};n.fn.Azbn7=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?"function"==typeof e?e(this):void n.error("Метод "+e+" в плагине не найден!"):i.init.apply(this,arguments)},n.Azbn7=new r(JSON.parse(e.attr("data-azbn7")||"{}"))}(jQuery);